<!DOCTYPE html>
<html lang="en" data-theme="minimal">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Anaya · Learning Universe</title>
    <meta name="description" content="A magical learning journey">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=EB+Garamond:ital,wght@0,400;0,600;1,400&family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/themes/minimal.css" id="theme-stylesheet">
    
    <style>
        /* Enhanced minimal theme with better color consistency */
        :root {
            --student-hue: 234;
            --student-accent: hsl(var(--student-hue), 70%, 60%);
            --student-accent-soft: hsl(var(--student-hue), 60%, 95%);
            --student-accent-dark: hsl(var(--student-hue), 70%, 45%);
            
            /* Enhanced minimal color palette */
            --paper-white: #ffffff;
            --paper-cream: #fafafa;
            --ink-dark: #1a1a1a;
            --ink-medium: #4a4a4a;
            --ink-light: #6b6b6b;
            --accent-gold: #f59e0b;
            --accent-blue: #3b82f6;
            --accent-green: #10b981;
            --accent-purple: #8b5cf6;
            
            /* Enhanced shadows */
            --shadow-soft: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-strong: 0 8px 32px rgba(0, 0, 0, 0.12);
            
            /* Enhanced borders */
            --border-light: 1px solid rgba(0, 0, 0, 0.08);
            --border-medium: 1px solid rgba(0, 0, 0, 0.12);
            --radius-small: 12px;
            --radius-medium: 16px;
            --radius-large: 24px;
        }
        
        /* Enhanced card styling */
        .content-card {
            background: var(--paper-white);
            border-radius: var(--radius-medium);
            box-shadow: var(--shadow-soft);
            border: var(--border-light);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .content-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-strong);
            border-color: var(--student-accent);
        }
        
        .content-card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--student-accent), var(--accent-purple), var(--accent-blue));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .content-card:hover::before {
            opacity: 1;
        }
        
        /* Enhanced card header */
        .card-header {
            padding: 24px 24px 16px;
            display: flex;
            align-items: center;
            gap: 16px;
            border-bottom: var(--border-light);
            background: linear-gradient(135deg, var(--paper-cream), var(--paper-white));
        }
        
        .section-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-small);
            background: linear-gradient(135deg, var(--student-accent), var(--student-accent-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-soft);
        }
        
        .section-icon svg {
            width: 24px;
            height: 24px;
            fill: white;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--ink-dark);
            margin: 0;
            letter-spacing: -0.02em;
        }
        
        /* Enhanced card content */
        .card-content {
            padding: 20px 24px 24px;
            color: var(--ink-medium);
            line-height: 1.7;
            font-size: 1rem;
        }
        
        .card-content p {
            margin-bottom: 16px;
        }
        
        .card-content p:last-child {
            margin-bottom: 0;
        }
        
        /* Black & Red Arcade Button with Star Effects */
        .arcade-button {
            background: linear-gradient(135deg, #1a1a1a 0%, #333333 30%, #ff0000 70%, #cc0000 100%) !important;
            background-size: 300% 300% !important;
            animation: blackRedShift 2s ease-in-out infinite !important;
            color: white !important;
            padding: 24px 40px;
            border-radius: var(--radius-large);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 16px;
            font-weight: 700;
            font-size: 1.2rem;
            box-shadow: 0 8px 32px rgba(255, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 0, 0, 0.3);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
        }
        
        @keyframes blackRedShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .arcade-button:hover {
            transform: translateY(-6px) scale(1.05);
            box-shadow: 0 15px 50px rgba(255, 0, 0, 0.6);
            color: white !important;
            border-color: rgba(255, 0, 0, 0.8);
            animation: blackRedShift 1s ease-in-out infinite, buttonGlow 0.8s ease-in-out infinite;
        }
        
        @keyframes buttonGlow {
            0%, 100% { box-shadow: 0 15px 50px rgba(255, 0, 0, 0.6); }
            50% { box-shadow: 0 15px 50px rgba(255, 0, 0, 0.9), 0 0 30px rgba(255, 255, 255, 0.3); }
        }
        
        .arcade-button .button-text {
            position: relative;
            z-index: 4;
            color: white !important;
            font-weight: 800;
            letter-spacing: 0.5px;
        }
        
        .arcade-button .button-icon {
            position: relative;
            z-index: 4;
            color: white !important;
            font-size: 1.4rem;
            animation: iconBounce 2s ease-in-out infinite;
        }
        
        @keyframes iconBounce {
            0%, 50%, 100% { transform: translateY(0); }
            25% { transform: translateY(-3px); }
            75% { transform: translateY(-1px); }
        }
        
        /* Star effects on hover */
        .arcade-button:hover::before {
            content: "★ ★ ★ ★ ★";
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            color: #ffff00;
            font-size: 14px;
            z-index: 3;
            animation: starTwinkle 1s ease-in-out infinite;
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 0.5; transform: translateX(-50%) scale(0.8); }
            50% { opacity: 1; transform: translateX(-50%) scale(1.2); }
        }
        
        .arcade-button::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            transition: all 0.4s ease;
            border-radius: 50%;
            z-index: 2;
        }
        
        .arcade-button:hover::after {
            width: 250px;
            height: 250px;
            background: radial-gradient(circle, rgba(255, 255, 0, 0.3) 0%, rgba(255, 0, 0, 0.2) 50%, transparent 70%);
        }
    </style>
</head>
<body>
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="magic-circle">
                <svg viewBox="0 0 200 200">
                    <circle cx="100" cy="100" r="80" class="circle-outer" />
                    <circle cx="100" cy="100" r="60" class="circle-middle" />
                    <circle cx="100" cy="100" r="40" class="circle-inner" />
                </svg>
            </div>
            <p class="loading-text">Preparing your magical journey...</p>
        </div>
    </div>
    
    <div class="universe-container">
        <canvas id="magicCanvas"></canvas>
        
        <div class="parallax-layer" data-depth="0.1">
            <div class="clouds"></div>
        </div>
        <div class="parallax-layer" data-depth="0.3">
            <div class="floating-elements"></div>
        </div>
        <div class="parallax-layer" data-depth="0.5">
            <div class="fireflies"></div>
        </div>
    </div>

    <div class="learning-tree-container">
        <div class="tree-stage" id="learningTree"></div>
        <div class="tree-info">
            <span class="visits-count">Visit #<span id="visitNumber">1</span></span>
            <span class="tree-stage-name" id="treeStageName">Seedling</span>
        </div>
    </div>
    
    <div class="top-animals-container" id="topAnimalsContainer">
    </div>
    
    <div class="animals-container" id="animalsContainer">
    </div>

    <main class="content-wrapper">
        <section class="hero-section" id="heroSection">
            <div class="hero-particles" id="heroParticles"></div>
            
            <div class="date-badge floating">7 October 2025</div>
            
            <h1 class="student-name magical-text">
                Anaya
                <span class="name-sparkles"></span>
            </h1>
            
            <p class="hero-greeting">Welcome back to your learning universe</p>
        </section>

        <section class="content-card floating-card" data-sound="page-turn" data-creature="star">
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path class="icon-path" d="M24 4l5.5 11.1L42 17l-9 8.8L35.1 38 24 32.2 12.9 38 15 25.8 6 17l12.5-1.9z"/>
                    </svg>
                </div>
                <h2 class="section-title">Today&#39;s Reflection</h2>
            </header>
            
            <div class="card-content">
                <p class="reflection-text">
                    🌟 Amazing work today! You did a fantastic job explaining the steps of Kaprekar's Constant. Your ability to recall and articulate a complex process is a real strength! 🚀
                </p>
            </div>
        </section>

        <section class="content-card floating-card" data-sound="page-turn" data-creature="math-dragon">
            <div class="subject-creature-container">
                <div class="creature-home" id="creatureHome">
                </div>
            </div>
            
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path class="icon-path" d="M4 6h8c2.2 0 4 1.8 4 4v28c0-1.7-1.3-3-3-3H4V6zm40 0h-8c-2.2 0-4 1.8-4 4v28c0-1.7 1.3-3 3-3h9V6z"/>
                    </svg>
                </div>
                <h2 class="section-title">What We Explored</h2>
            </header>
            
            <div class="subject-badge magical-badge">Learning Detectives: Uncovering Clues in Math & Language</div>
            
            <div class="card-content">
                <p class="learning-content">
                    Today's adventure: We became 'learning detectives'! We saw that learning isn't just about knowing the answer, but understanding the 'why' behind it. We discovered how precise language matters, like when '30' and 'thirty' mean the same thing but only one follows the rules of the game. We also explored a mathematical mystery called Kaprekar's Constant, which is like a secret code that always leads back to the number 6174! The coolest part was seeing that both English and Math are like puzzles that require us to follow specific clues and rules to solve them. This connects to our work on problem-solving and will help you analyze any challenge more carefully.
                </p>
            </div>
        </section>

                <section class="content-card floating-card activity-card" data-sound="chime" data-creature="rocket">
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <circle cx="24" cy="24" r="20" class="clock-circle"/>
                        <path class="clock-hand" d="M24 12v12l8 4"/>
                    </svg>
                </div>
                <h2 class="section-title">Your Mission</h2>
            </header>
            
            <div class="mission-name">🎯 The Collatz Conjecture Quest!</div>
            
            <div class="card-content">
                <div class="mission-description">
                    <p>Your mission: Choose any three positive whole numbers (maybe your age, your house number, and your favorite number!). For each number, apply the Collatz rules until you get to 1. Step 1: Write down your starting number. Step 2: If it's even, divide it by 2. If it's odd, multiply it by 3 and add 1. Step 3: Write down the new number and repeat the process. See which of your numbers takes the longest to reach 1! Bonus challenge: Try starting with the number 27 and see the long journey it takes!</p>
                </div>
                
                <div class="mission-motivation">
                    <span class="sparkle-text">✨ Why it&#39;s amazing:</span>
                    <p>This activity is amazing because it helps your brain build stronger connections for pattern recognition and logical thinking. You'll develop persistence while solving a fun mathematical puzzle! Plus, you can show your family the surprising journey different numbers take to get to 1.</p>
                </div>
            </div>
            
            <div class="hidden-treasure" id="hiddenTreasure">
                <span class="treasure-emoji">🎁</span>
                <p class="treasure-message">Secret discovered! You&#39;re amazing!</p>
            </div>
        </section>

                <section class="content-card floating-card parent-card" data-sound="notification">
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path d="M31 28v-4c0-3.3-2.7-6-6-6h-10c-3.3 0-6 2.7-6 6v4"/>
                        <circle cx="20" cy="10" r="6"/>
                        <path d="M39 28v-4c0-2.8-1.9-5.1-4.5-5.8"/>
                        <path d="M33 4.2c2.6.7 4.5 3 4.5 5.8s-1.9 5.1-4.5 5.8"/>
                    </svg>
                </div>
                <h2 class="section-title">Family Update</h2>
            </header>
            
            <div class="parent-report-grid">
                <div class="report-item">
                    <h3 class="report-label">Today&#39;s Focus</h3>
                    <p>Development of metacognitive analysis and the application of rule-based systems in both mathematics and language.</p>
                </div>
                
                <div class="report-item">
                    <h3 class="report-label">Progress Made</h3>
                    <p>Key concepts: We analyzed specific test errors to understand the importance of following instructions precisely (e.g., writing numbers as words). We explored intriguing mathematical ideas like Kaprekar's Constant and the Collatz Conjecture to foster logical reasoning and curiosity. We also reinforced the critical reading comprehension skill of summarizing information in one's own words to demonstrate true understanding.</p>
                </div>
                
                <div class="report-item">
                    <h3 class="report-label">Home Practice</h3>
                    <p>The 'Collatz Conjecture Quest' (described above). This activity gives hands-on practice with a logical algorithm, reinforcing the concepts discussed in class in a fun, game-like format. Expected time: 10-15 minutes.</p>
                </div>
                
                <div class="report-item">
                    <h3 class="report-label">Special Notes</h3>
                    <p>💡 Breakthrough moment: The student's verbal explanation of Kaprekar's Constant was clear and confident, showing a solid grasp of the procedure. Growth area: We are working on reframing the analysis of past mistakes not as a negative event, but as empowering 'detective work' to find clues for future success. Ask your child about the 'magic number' 6174—they can teach you something fascinating! To support at home: When reviewing schoolwork, celebrate the process of finding and understanding an error. This reinforces a powerful growth mindset.</p>
                </div>
            </div>
        </section>

        <section class="arcade-portal-section">
            <div class="portal-container">
                <div class="portal-rings">
                    <div class="ring ring-1"></div>
                    <div class="ring ring-2"></div>
                    <div class="ring ring-3"></div>
                </div>
                
                <a href="https://amanrajyadav.github.io/fluence-quiz/" class="arcade-button magical-button">
                    <span class="button-text">Enter Learning Arcade</span>
                    <span class="button-icon">🎮</span>
                </a>
            </div>
        </section>
    </main>
    
    <div class="shake-overlay" id="shakeOverlay">
        <div class="stardust-container" id="stardustContainer"></div>
        <div class="shake-message">
            <h3>✨ Magic Unlocked! ✨</h3>
            <p>You found a hidden surprise!</p>
        </div>
    </div>
    
    <script src="../assets/js/universe.js"></script>
    <script src="../assets/js/creatures.js"></script>
    <script src="../assets/js/audio.js"></script>
    <script src="../assets/js/particles.js"></script>
    <script src="../assets/js/tree.js"></script>
    <script src="../assets/js/features.js"></script>
    <script src="../assets/js/magic.js"></script>
    
    <script>
        console.log("🔧 Initialization script starting...");
        
        // Initialize with student data
        window.STUDENT_DATA = {
            name: "Anaya",
            id: "student1",
            hue: 234,
            subject: "Learning Detectives: Uncovering Clues in Math & Language",
            visitCount: parseInt(localStorage.getItem("visits_student1") || "0") + 1
        };
        
        console.log("🔧 Student data set:", window.STUDENT_DATA);
        console.log("🔧 Universe object available:", typeof Universe);
        
        // Start the magic - IMMEDIATE INITIALIZATION
        console.log("🔧 About to call Universe.init()...");
        Universe.init();
        console.log("🔧 Universe.init() called successfully");
    </script>
</body>
</html>