<!DOCTYPE html>
<html lang="en" data-theme="minimal">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mamta ¬∑ Learning Universe</title>
    <meta name="description" content="A magical learning journey">
    
    <!-- Preload critical assets -->
    <link rel="preload" href="../assets/sounds/ambient/morning-forest.mp3" as="audio">
    <link rel="preload" href="../assets/sprites/creatures/math-dragon.svg" as="image">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=EB+Garamond:ital,wght@0,400;0,600;1,400&family=Caveat:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/themes/minimal.css" id="theme-stylesheet">
    
    <style>
        /* Dynamic student color */
        :root {
            --student-hue: 277.2;
            --student-accent: hsl(var(--student-hue), 70%, 60%);
            --student-accent-soft: hsl(var(--student-hue), 60%, 95%);
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="magic-circle">
                <svg viewBox="0 0 200 200">
                    <circle cx="100" cy="100" r="80" class="circle-outer" />
                    <circle cx="100" cy="100" r="60" class="circle-middle" />
                    <circle cx="100" cy="100" r="40" class="circle-inner" />
                </svg>
            </div>
            <p class="loading-text">Preparing your magical journey...</p>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
        <span class="theme-icon-minimal">‚ú®</span>
        <span class="theme-icon-cosmic">üåô</span>
    </button>

    <!-- Living Background -->
    <div class="universe-container">
        <!-- WebGL Canvas for advanced effects -->
        <canvas id="magicCanvas"></canvas>
        
        <!-- Parallax Layers -->
        <div class="parallax-layer" data-depth="0.1">
            <div class="clouds"></div>
        </div>
        <div class="parallax-layer" data-depth="0.3">
            <div class="floating-elements"></div>
        </div>
        <div class="parallax-layer" data-depth="0.5">
            <div class="fireflies"></div>
        </div>
        
        <!-- Seasonal Overlay -->
        <div class="seasonal-overlay" id="seasonalOverlay"></div>
    </div>

    <!-- Learning Tree (Fixed Position) -->
    <div class="learning-tree-container">
        <div class="tree-stage" id="learningTree">
            <!-- Tree will be drawn here by tree.js -->
        </div>
        <div class="tree-info">
            <span class="visits-count">Visit #<span id="visitNumber">1</span></span>
            <span class="tree-stage-name" id="treeStageName">Seedling</span>
        </div>
    </div>

    <!-- Walking Animals Container -->
    <div class="animals-container" id="animalsContainer">
        <!-- Animated sprites will be added by creatures.js -->
    </div>

    <!-- Audio Controls -->
    <div class="audio-controls">
        <button class="audio-ambient active" id="ambientToggle" aria-label="Toggle ambient sounds">
            <svg viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"/>
            </svg>
        </button>
        <div class="volume-slider">
            <input type="range" id="volumeControl" min="0" max="100" value="50">
        </div>
    </div>

    <!-- Main Content -->
    <main class="content-wrapper">
        <!-- Hero Section -->
        <section class="hero-section" id="heroSection">
            <div class="hero-particles" id="heroParticles"></div>
            
            <div class="date-badge floating">22 July 2025</div>
            
            <h1 class="student-name magical-text">
                Mamta
                <span class="name-sparkles"></span>
            </h1>
            
            <p class="hero-greeting">Welcome back to your learning universe</p>
            
            <!-- Student Avatar with Aura -->
            <div class="student-avatar-container">
                <div class="avatar-aura"></div>
                <div class="student-avatar" id="studentAvatar">
                    <div class="avatar-inner" data-initial="M"></div>
                </div>
            </div>
        </section>

        <!-- Today's Reflection -->
        <section class="content-card floating-card" data-sound="page-turn" data-creature="star">
            <div class="card-background-effect"></div>
            
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path class="icon-path" d="M24 4l5.5 11.1L42 17l-9 8.8L35.1 38 24 32.2 12.9 38 15 25.8 6 17l12.5-1.9z"/>
                    </svg>
                </div>
                <h2 class="section-title">Today's Reflection</h2>
            </header>
            
            <div class="card-content touchable" data-read-aloud="true">
                <p class="reflection-text">
                    üåü Amazing work today! You tackled a tough combined test with real courage. Your persistence, especially when you asked to try the math problem again, is exactly how your brain grows stronger! üöÄ
                </p>
            </div>
            
            <div class="tap-hint">Tap to hear ‚Ä¢ Long press for Hindi</div>
        </section>

        <!-- Learning Content -->
        <section class="content-card floating-card" data-sound="page-turn" data-creature="math-dragon">
            <div class="card-background-effect"></div>
            
            <!-- Subject Creature -->
            <div class="subject-creature-container">
                <div class="creature-home" id="creatureHome">
                    <!-- Animated creature will be loaded here -->
                </div>
            </div>
            
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path class="icon-path" d="M4 6h8c2.2 0 4 1.8 4 4v28c0-1.7-1.3-3-3-3H4V6zm40 0h-8c-2.2 0-4 1.8-4 4v28c0-1.7 1.3-3 3-3h9V6z"/>
                    </svg>
                </div>
                <h2 class="section-title">What We Explored</h2>
            </header>
            
            <div class="subject-badge magical-badge">Math & Social Studies: Uncovering the Secret Codes of Patterns and Cultures</div>
            
            <div class="card-content touchable" data-read-aloud="true">
                <p class="learning-content">
                    Today's adventure was about being a detective! We learned that understanding big ideas, in both math and culture, means looking for the hidden patterns. We discovered that a simple square number like 25 isn't just 5x5; it's a secret code that can be written as a beautiful 'up-and-down' pattern (1+2+3+4+5+4+3+2+1). We also explored how India is united by a 'dense web' of stories, like the Ramayana and Mahabharata. The coolest part was learning that these ancient stories are like a shared superhero universe for the whole country, with hundreds of different versions that make each place special! This helps us see how things can be different and the same all at once, a skill you'll use for your whole life.
                </p>
            </div>
        </section>

        
        <!-- Activity Section -->
        <section class="content-card floating-card activity-card" data-sound="chime" data-creature="rocket">
            <div class="card-background-effect"></div>
            
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <circle cx="24" cy="24" r="20" class="clock-circle"/>
                        <path class="clock-hand" d="M24 12v12l8 4"/>
                    </svg>
                </div>
                <h2 class="section-title">Your Mission</h2>
            </header>
            
            <div class="mission-name">üéØ The 'Up-and-Down' Sequence Builder</div>
            
            <div class="card-content touchable" data-read-aloud="true">
                <div class="mission-description">
                    <p>Your mission is to become a number architect! Grab some coins, buttons, or dried beans. Step 1: Build the 'up-and-down' pattern for the square number 9 by making stacks: one coin, then two, then three, then two, then one. Step 2: Now, try building the pattern for the square number 16 (1+2+3+4+3+2+1). Step 3: Arrange the stacks to see the beautiful, symmetrical pyramid shape you've created! Bonus challenge: Can you predict what the sequence would be for the square number 36 and build the first few stacks?</p>
                </div>
                
                <div class="mission-motivation">
                    <span class="sparkle-text">‚ú® Why it's amazing:</span>
                    <p>This activity is amazing because it turns an abstract math rule into a physical object you can see and touch, helping your brain lock in the concept. You'll develop your pattern-recognition and problem-solving skills while playing with numbers! Plus, you can show your family the number pyramids you built and teach them the 'up-and-down' secret code. </p>
                </div>
            </div>
            
            <!-- Hidden treasure that appears on shake -->
            <div class="hidden-treasure" id="hiddenTreasure">
                <span class="treasure-emoji">üéÅ</span>
                <p class="treasure-message">Secret discovered! You're amazing!</p>
            </div>
        </section>

        
        <!-- Parent Update -->
        <section class="content-card floating-card parent-card" data-sound="notification">
            <div class="card-background-effect"></div>
            
            <header class="card-header">
                <div class="section-icon animated-icon">
                    <svg viewBox="0 0 48 48">
                        <path d="M31 28v-4c0-3.3-2.7-6-6-6h-10c-3.3 0-6 2.7-6 6v4"/>
                        <circle cx="20" cy="10" r="6"/>
                        <path d="M39 28v-4c0-2.8-1.9-5.1-4.5-5.8"/>
                        <path d="M33 4.2c2.6.7 4.5 3 4.5 5.8s-1.9 5.1-4.5 5.8"/>
                    </svg>
                </div>
                <h2 class="section-title">Family Update</h2>
            </header>
            
            <div class="parent-report-grid">
                <div class="report-item">
                    <h3 class="report-label">Today's Focus</h3>
                    <p>Development of analytical reasoning by connecting abstract rules to concrete examples in both mathematics and social sciences.</p>
                </div>
                
                <div class="report-item">
                    <h3 class="report-label">Progress Made</h3>
                    <p>Key concepts: 1) Generating square numbers through additive patterns (like the 'up-and-down' counting sequence), which builds number sense beyond simple multiplication. 2) Understanding 'Unity in Diversity' in India through the lens of shared cultural narratives like the Mahabharata. 3) The critical skill of supporting an argument with specific evidence, not just general statements.</p>
                </div>
                
                
                <div class="report-item">
                    <h3 class="report-label">Home Practice</h3>
                    <p>Family 'Unity in Diversity' Hunt: In a 10-minute conversation, please ask your child to identify two things in your home that show this idea. For example, 'We all love eating rice (unity), but Mom likes it with dal and you like it with yogurt (diversity).' This task reinforces the core social science concept in a personal, tangible way.</p>
                </div>
                
                
                
                <div class="report-item">
                    <h3 class="report-label">Special Notes</h3>
                    <p>üí° Breakthrough moment: When faced with a tricky math pattern, the student showed great resilience and asked to rethink the problem rather than giving up. This is a fantastic display of a growth mindset! Growth area: We are focusing on substantiating claims with specific examples. The student understands the main ideas but is now learning to provide the 'proof' that makes an answer truly excellent. Ask your child about 'the 100 versions of the Mahabharata in Tamil Nadu'‚Äîit was a fascinating example we discussed. To support at home: When they tell you something they learned, try asking a gentle follow-up like, 'That's interesting, can you give me an example of that?'</p>
                </div>
                
            </div>
        </section>

        <!-- Arcade Portal -->
        <section class="arcade-portal-section">
            <div class="portal-container">
                <div class="portal-rings">
                    <div class="ring ring-1"></div>
                    <div class="ring ring-2"></div>
                    <div class="ring ring-3"></div>
                </div>
                
                <a href="https://amanrajyadav.github.io/fluence-quiz/" class="arcade-button magical-button">
                    <span class="button-bg"></span>
                    <span class="button-text">Enter Learning Arcade</span>
                    <span class="button-icon">üéÆ</span>
                </a>
            </div>
        </section>
    </main>

    <!-- Shake Message Overlay -->
    <div class="shake-overlay" id="shakeOverlay">
        <div class="stardust-container" id="stardustContainer"></div>
        <div class="shake-message">
            <h3>‚ú® Magic Unlocked! ‚ú®</h3>
            <p>You found a hidden surprise!</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../assets/js/universe.js"></script>
    <script src="../assets/js/creatures.js"></script>
    <script src="../assets/js/audio.js"></script>
    <script src="../assets/js/particles.js"></script>
    <script src="../assets/js/tree.js"></script>
    <script src="../assets/js/magic.js"></script>
    
    <script>
        // Initialize with student data
        window.STUDENT_DATA = {
            name: 'Mamta',
            id: 'student3',
            hue: 277.2,
            subject: 'Math & Social Studies: Uncovering the Secret Codes of Patterns and Cultures',
            visitCount: parseInt(localStorage.getItem('visits_student3') || '0') + 1
        };
        
        // Start the magic
        document.addEventListener('DOMContentLoaded', () => {
            Universe.init();
        });
    </script>
</body>
</html>